# -*- python -*- 

Import('env')
import sys

name = "Plugin_PadSimple"

if not env['HAVE_X11']:
    if not env['HAVE_COCOA']:
        print name + " must have X11 to be built"
        Return()

if env['GLTEST']:
    print name + " Doesn't work with testgl"
    Return()


files = [
	"PadSimple.cpp",
	]
padenv = env.Clone()


if padenv['HAVE_COCOA']:
    compileFlags = [
        '-x',
        'objective-c++',
        ]

if padenv['HAVE_WX']:
    files += [ 
        "GUI/ConfigDlg.cpp",
        ]

if env['HAVE_X11']:
    files += [ 
        "XInputBase.cpp",
        ]

if padenv['HAVE_COCOA']:
	padenv.Append(	CXXFLAGS = compileFlags,
			LIBS = [ 'common' ])
else:
	padenv.Append(LIBS = [ 'common' ])

padenv.SharedLibrary(env['plugin_dir']+name, files)
