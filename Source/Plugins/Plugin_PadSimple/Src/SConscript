# -*- python -*- 

Import('env')
import sys

if sys.platform == 'darwin':
	output = "../../../../Binary/mac/Plugins/padsimple.so"
else:
	output = "../../../../Binary/linux/Plugins/padsimple.so"

files = [
	"PadSimple.cpp",
	]
padenv = env.Clone()

if not padenv['osx64']:
	files += [ 
		"GUI/ConfigDlg.cpp",
		"XInputBase.cpp",
		]

padenv.Append(LIBS = [ 'common' ])

if padenv['osx64']:
	padenv.Append(
		CXXFLAGS = [ '-arch', 'x86_64' ],
		LINKFLAGS = [ '-arch', 'x86_64' ],
		)

padenv.SharedLibrary(output, files)
