
# -*- python -*-

Import('env')
import sys

name = "Plugin_DSP_LLE"

if not env['HAVE_AO']:
    print name + " must have AO to be build"
    Return()

files = [
	"Config.cpp",
	"DSPConfigDlgLLE.cpp",
	"disassemble.cpp",
	"gdsp_aram.cpp",
	"gdsp_condition_codes.cpp",
	"gdsp_ext_op.cpp",
	"gdsp_interface.cpp",
	"gdsp_interpreter.cpp",
	"gdsp_memory.cpp",
	"gdsp_registers.cpp",
	"Globals.cpp",
        "DSPAnalyzer.cpp",
        "DSPInterpreter.cpp",
        "DSPJit.cpp",
        "DSPTables.cpp",
	"main.cpp",
	"Tools.cpp",
	"Debugger/Debugger.cpp",
	"Debugger/DSPRegisterView.cpp",
	"Logging/AXTask.cpp",
	"Logging/Logging.cpp",
	"Logging/ReadPBs.cpp",
	]

lleenv = env.Clone()
lleenv.Append(
	CXXFLAGS = [ '-fPIC' ],
	LIBS = [ 'common', 'audiocommon' ],
	)

lleenv.SharedLibrary(env['plugin_dir']+name, files)
