# -*- python -*- 

Import('env')
import sys

if sys.platform == 'darwin':
	output = "../../../../Binary/mac/Plugins/Plugin_Wiimote.so"
else:
	output = "../../../../Binary/linux/Plugins/Plugin_Wiimote.so"

files = [
	"Wiimote.cpp",
	]

padenv = env.Clone()

if padenv['osx64']:
    padenv.Append(
        CXXFLAGS = [ '-arch', 'x86_64' ],
        LINKFLAGS = [ '-arch', 'x86_64' ],
        LIBS = [ 'common' ],
        )
else:
    padenv.Append(
        CXXFLAGS = [ '-fPIC' ],
        LIBS = [ 'common' ],
        )

padenv.SharedLibrary(output, files)
