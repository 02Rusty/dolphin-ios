# -*- python -*-

Import('env')
import sys

name = "Plugin_DSP_HLE"

if not env['HAVE_AO']:
    print name + " must have AO to be build"
    Return()

files = [
	'DSPHandler.cpp',
	'MailHandler.cpp',
	'main.cpp',
	'Config.cpp',
	'Globals.cpp',
	'PCHW/AOSoundStream.cpp',
	'PCHW/Mixer.cpp',
        'Debugger/File.cpp',
	'UCodes/UCode_AX.cpp',
        'UCodes/UCode_AXWii.cpp',
	'UCodes/UCode_CARD.cpp',
	'UCodes/UCode_InitAudioSystem.cpp',
	'UCodes/UCode_Jac.cpp',
	'UCodes/UCode_ROM.cpp',
	'UCodes/UCodes.cpp',
	'UCodes/UCode_Zelda.cpp',
	]

dspenv = env.Clone()

if dspenv['HAVE_WX']:
    files += [
        'Debugger/Debugger.cpp',
        'Debugger/PBView.cpp',
        'Debugger/Mails.cpp',
        'Debugger/Blocks.cpp',
        'Logging/Logging.cpp',

        ]

dspenv.Append(
	CXXFLAGS = [ '-fPIC' ],
	LIBS = [ 'common' ],
	)

dspenv.SharedLibrary(env['plugin_dir']+name, files)
