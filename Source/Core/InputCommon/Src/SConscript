# -*- python -*-
import sys
Import('env')

files = [
	'Configuration.cpp',
	'ControllerEmu.cpp',
	'InputConfig.cpp',
	'ControllerInterface/ControllerInterface.cpp',
	'UDPWiimote.cpp',
	'UDPWrapper.cpp'
	]

if sys.platform == 'win32':
	files += [
		'ControllerInterface/DInput/DInput.cpp',
		'ControllerInterface/DInput/DInputJoystick.cpp',
		'ControllerInterface/DInput/DInputKeyboardMouse.cpp'
		'ControllerInterface/XInput/XInput.cpp',
		]
elif sys.platform == 'darwin':
	files += [
		'ControllerInterface/OSX/OSX.mm',
		'ControllerInterface/OSX/OSXKeyboard.mm',
		'ControllerInterface/OSX/OSXMouse.mm',
		'SDL_Util.cpp',		# XXX needed by old Wiimote plugin
		]
else:
	files += [
		'ControllerInterface/Xlib/Xlib.cpp',
		'X11InputBase.cpp'
		]

if sys.platform == 'win32' or sys.platform == 'linux2':
	files += [
		'ControllerInterface/SDL/SDL.cpp',
		'SDL_Util.cpp',
		]

env.StaticLibrary(env['local_libs'] + "inputcommon", files)
