# -*- python -*-

Import('env')

files = [
    "assemble.cpp",
    "disassemble.cpp",
    "DSPAccelerator.cpp",
    "DSPIntCCUtil.cpp",
    "DSPIntExtOps.cpp",
    "DSPHWInterface.cpp",
    "DSPInterpreter.cpp",
    "DSPMemoryMap.cpp",
    "DSPStacks.cpp",
    "DSPAnalyzer.cpp",
    "DspIntArithmetic.cpp",
    "DspIntBranch.cpp",
    "DspIntLoadStore.cpp",
    "DspIntMisc.cpp",
    "DspIntMultiplier.cpp",
    "DSPJit.cpp",
    "DSPCodeUtil.cpp",
    "LabelMap.cpp",
    "DSPCore.cpp",
    "DSPTables.cpp",
    ]

acenv = env.Clone()
acenv.Append(CXXFLAGS = [ '-fPIC' ])

acenv.StaticLibrary(env['local_libs'] + 'dspcore', files, LIBS = [ 'common'] )
