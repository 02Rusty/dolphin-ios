; This test checks the effect of various SR flags over iflz and ifnlz
include "dsp_base.inc"

lri $IX0, #0x0000
lri $SR, #0x0001

iflz
lri $IX0, #0x1337	
call send_back ; 1

ifnlz
lri $IX0, #0x1338	
call send_back ; 2

lri $IX0, #0x0000	
lri $SR, #0x0002

iflz
lri $IX0, #0x1337	
call send_back ; 3

ifnlz
lri $IX0, #0x1338	
call send_back ; 4

lri $IX0, #0x0000
lri $SR, #0x0004

iflz
lri $IX0, #0x1337	
call send_back ; 5

ifnlz
lri $IX0, #0x1338	
call send_back ; 6

lri $IX0, #0x0000
lri $SR, #0x0008

iflz
lri $IX0, #0x1337	
call send_back ; 7

ifnlz
lri $IX0, #0x1338	
call send_back ; 8

lri $IX0, #0x0000
lri $SR, #0x000a

iflz
lri $IX0, #0x1337	
call send_back ; 9

ifnlz
lri $IX0, #0x1338	
call send_back ; 10

lri $IX0, #0x0000
lri $SR, #0x0010

iflz
lri $IX0, #0x1337	
call send_back 	; 11

ifnlz
lri $IX0, #0x1338	
call send_back	; 12

lri $IX0, #0x0000
lri $SR, #0x0020

iflz
lri $IX0, #0x1337	
call send_back 	; 13

ifnlz
lri $IX0, #0x1338	
call send_back	; 14

lri $IX0, #0x0000
lri $SR, #0x0040

iflz
lri $IX0, #0x1337	
call send_back 	; 15

ifnlz
lri $IX0, #0x1338	
call send_back	; 16

; We're done, DO NOT DELETE THIS LINE
jmp end_of_test
