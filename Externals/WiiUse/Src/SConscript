# -*- python -*-

Import('env')
import sys

env['HAVE_WIIUSE'] = 0

if not sys.platform == 'darwin' and not sys.platform == 'win32' and \
	not (sys.platform == 'linux2' and env['HAVE_BLUEZ']): 
	Return()

env['HAVE_WIIUSE'] = 1

files = [
	"ir.c",
	"wiiuse.c",
	]

if sys.platform == 'darwin':
	files += [ "io_osx.m" ]
elif sys.platform == 'linux2':
	files += [ "io_nix.c" ]
elif sys.platform == 'win32':
	files += [ "io_win.c" ]

env.StaticLibrary(env['local_libs'] + "wiiuse", files)
env['CPPPATH'] += ['#Externals/WiiUse/Src']
