# -*- python -*- 

import sys
Import('env')

if (sys.platform == 'linux2' and env['HAVE_BLUEZ'] != 1):
    env['HAVE_WIIUSE'] = 0
    Return()

files = [
        "io.c",
        "ir.c",
        "wiiuse.c",
	]

if sys.platform == 'linux2' and env['HAVE_BLUEZ']:
	files += [ "io_nix.c", ]

if sys.platform == 'darwin':
	files += [ "io_osx.m", ]

env.StaticLibrary(env['local_libs'] + "wiiuse", files, LIBS='m')

env['HAVE_WIIUSE'] = 1
